<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Job Finder (Offline)</title>
</head>
<body>

<div id="intro" style="display:block;">
  <p>
    First click Educational attainment, <br><br>
    Second click the desired job category in the chosen educational attainment, <br><br>
    Third it will show the job names in said category, their annual wage before taxes, and affordability index (annual wage/monthly rent), <br><br>
    Fourth and final, the Google spreadsheet which the data was gathered from, with all the jobs, wages, employment availability, and affordability index will be available for download.
  </p>
  <button onclick="goToPage('education')">Continue</button>
</div>

<div id="education" style="display:none;">
  <label for="edu">Select Education Attainment:</label>
  <select id="edu" onchange="populateCategories()">
    <option value="No formal educational credential">No formal educational credential</option>
    <option value="High school diploma or equivalent">High school diploma or equivalent</option>
    <option value="Postsecondary nondegree award">Postsecondary nondegree award</option>
    <option value="Associate's degree">Associate's degree</option>
    <option value="Bachelor's degree">Bachelor's degree</option>
  </select>
  <button onclick="goToPage('intro')">Back</button>
  <button onclick="goToPage('category')">Continue</button>
</div>

<div id="category" style="display:none;">
  <label for="cat">Select Job Category:</label>
  <select id="cat"></select>
  <button onclick="goToPage('education')">Back</button>
  <button onclick="showJobs()">Continue</button>
</div>

<div id="jobs" style="display:none;">
  <h3>Jobs Available:</h3>
  <table border="1" id="jobTable">
    <thead>
      <tr><th>Occupation</th><th>Annual Wage ($)</th><th>Employment</th><th>Affordability Index</th></tr>
    </thead>
    <tbody></tbody>
  </table>
  <button onclick="goToPage('category')">Back</button>
  <button onclick="goToPage('conclusion')">Continue</button>
</div>

<div id="conclusion" style="display:none;">
  <p>This concludes the list of jobs by educational level and affordability.</p>
  <p>You can download the full dataset in Excel format below:</p>
  <a href="docs/Optimization_Data_Education_Jobs.xlsx" download>ðŸ“„ Download Full Job Dataset (Excel)</a><br><br>
  <button onclick="goToPage('jobs')">Back</button>
  <button onclick="window.close()">Exit</button>
</div>

<script>
let jobData = {}; // to be filled with your JSON job data structure
function goToPage(id) {
  ['intro','education','category','jobs','conclusion'].forEach(p => document.getElementById(p).style.display = 'none');
  document.getElementById(id).style.display = 'block';
}

function populateCategories() {
  let edu = document.getElementById('edu').value;
  let cat = document.getElementById('cat');
  cat.innerHTML = '';
  Object.keys(jobData[edu]).forEach(c => {
    let opt = document.createElement('option');
    opt.value = c;
    opt.innerText = c;
    cat.appendChild(opt);
  });
}

function showJobs() {
  let edu = document.getElementById('edu').value;
  let cat = document.getElementById('cat').value;
  let tableBody = document.getElementById('jobTable').querySelector('tbody');
  tableBody.innerHTML = '';
  jobData[edu][cat].forEach(job => {
    let row = document.createElement('tr');
    row.innerHTML = `<td>${job['Occupation']}</td><td>${job['Annual Wage']}</td><td>${job['Employment']}</td><td>${job['Afford(I/O)'].toFixed(2)}</td>`;
    tableBody.appendChild(row);
  });
  goToPage('jobs');
}
</script>

</body>
</html>
