<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Static Job Finder</title>
  <style>
    section { display: none; }
    section:target { display: block; }
    #intro { display: block; }
    table {
      border-collapse: collapse;
      width: 98%;
      margin-bottom: 20px;
    }
    th, td {
      border: 1px solid #999;
      padding: 8px 10px;
      text-align: left;
    }
    th {
      background-color: #eee;
    }
    button {
      padding: 8px 12px;
      margin: 10px 5px;
    }
  </style>
</head>
<body>

<section id="intro">
  <h1>Intro Page</h1>
  <p>First click Educational attainment.</p>
  <p>Secondly, click the desired job category in the chosen educational attainment.</p>
  <p>Thirdly, it will show the job names in said category, their annual wage before taxes, and affordability index (annual wage/monthly rent).</p>
  <p>Fourth and finally, the Google spreadsheet which the data was gathered from, with all the jobs, wages, employment availability, and affordability index will be available for download.</p>
  <a href="#education"><button>Continue</button></a>
</section>

<section id="education" style="display:none;">
  <h2>Step 1: Choose Educational Attainment</h2>
  <ul>
"""

# Education links
for i, edu in enumerate(structured_jobs.keys()):
    html_output += f'    <li><a href="#edu{i}">{edu}</a></li>\n'

html_output += """  </ul>
  <a href="#intro"><button>Back</button></a>
</section>
"""

# Build education â†’ category pages
edu_id_map = {}
for edu_index, (edu, categories) in enumerate(structured_jobs.items()):
    edu_id = f"edu{edu_index}"
    html_output += f'<section id="{edu_id}" style="display:none;">\n'
    html_output += f'<h2>{edu}</h2>\n<ul>\n'
    for cat in categories:
        cat_id = f"{edu_id}_{cat.replace(' ', '_')}"
        html_output += f'<li><a href="#{cat_id}">{cat.title()}</a></li>\n'
    html_output += '</ul>\n'
    html_output += f'<a href="#education"><button>Back</button></a>\n</section>\n'
    edu_id_map[edu] = edu_id

# Category pages with job tables
for edu, categories in structured_jobs.items():
    for cat, jobs in categories.items():
        cat_id = f"{edu_id_map[edu]}_{cat.replace(' ', '_')}"
        html_output += f'<section id="{cat_id}" style="display:none;">\n'
        html_output += f'<h2>{edu} - {cat.title()}</h2>\n<table>\n<tr><th>Occupation</th><th>Employment</th><th>Annual Wage</th><th>Affordability Index</th></tr>\n'
        for job in jobs:
            html_output += f"<tr><td>{job['Occupation']}</td><td>{job['Employment']}</td><td>{job['Annual Wage']}</td><td>{job['Afford(I/O)']}</td></tr>\n"
        html_output += "</table>\n"
        html_output += f'<a href="#{edu_id_map[edu]}"><button>Back</button></a>\n'
        html_output += '<a href="#conclusion"><button>Continue</button></a>\n'
        html_output += '</section>\n'

# Final conclusion page
html_output += """
<section id="conclusion" style="display:none;">
  <h2>Conclusion</h2>
  <p>You can download the complete dataset here:</p>
  <a href="https://docs.google.com/spreadsheets/d/19ziRp1iNENdopAgHci7nJTNzTbgiFV1xRYE2QhjCgq0/edit?usp=sharing" target="_blank">
    ðŸ“„ Download Google Sheet
  </a>
  <br><br>
  <a href="#education"><button>Back</button></a>
  <button onclick="window.close()">Exit</button>
</section>

</body>
</html>
