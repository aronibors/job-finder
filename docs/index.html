<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Interactive Job Finder</title>
</head>
<body>

<div id="intro" style="display:block;">
  <p>
    First click Educational attainment. <br><br>
    Secondly, click the desired job category in the chosen educational attainment. <br><br>
    Thirdly, it will show the job names in said category, their annual wage before taxes, and affordability index (annual wage/monthly rent). <br><br>
    Fourth and finally, the Google spreadsheet which the data was gathered from, with all the jobs, wages, employment availability, and affordability index will be available for download.
  </p>
  <button onclick="goToPage('education')">Continue</button>
</div>

<div id="education" style="display:none;">
  <h2>Select Your Educational Attainment</h2>
  <select id="edu" onchange="populateCategories()">
    <option value="" disabled selected>Choose an education level</option>
    <option value="No formal educational credential">No formal educational credential</option>
    <option value="High school diploma or equivalent">High school diploma or equivalent</option>
    <option value="Postsecondary nondegree award">Postsecondary nondegree award</option>
    <option value="Associate's degree">Associate's degree</option>
    <option value="Bachelor's degree">Bachelor's degree</option>
  </select>
  <br><br>
  <button onclick="goToPage('intro')">Back</button>
  <button onclick="goToPage('category')">Continue</button>
</div>

<div id="category" style="display:none;">
  <h2>Select a Job Category</h2>
  <select id="cat"></select>
  <br><br>
  <button onclick="goToPage('education')">Back</button>
  <button onclick="showJobs()">Continue</button>
</div>

<div id="jobs" style="display:none;">
  <h2>Job Listings</h2>
  <table border="1" id="jobTable">
    <thead>
      <tr><th>Occupation</th><th>Employment</th><th>Annual Wage ($)</th><th>Affordability Index</th></tr>
    </thead>
    <tbody></tbody>
  </table>
  <br><br>
  <button onclick="goToPage('category')">Back</button>
  <button onclick="goToPage('conclusion')">Continue</button>
</div>

<div id="conclusion" style="display:none;">
  <h2>Conclusion</h2>
  <p>You can download the full Google spreadsheet with all jobs, wages, openings, and affordability index below:</p>
  <a href="https://docs.google.com/spreadsheets/d/19ziRp1iNENdopAgHci7nJTNzTbgiFV1xRYE2QhjCgq0/edit?usp=sharing" target="_blank">ðŸ“„ View Google Sheet</a>
  <br><br>
  <button onclick="goToPage('jobs')">Back</button>
  <button onclick="window.close()">Exit</button>
</div>

<script>
let jobData = {
  "No formal educational credential": {
    "artist": [
      {"Occupation":"Artists and Related Workers, All Other","Employment":400,"Annual Wage":117810,"Affordability Index":39.31},
      {"Occupation":"Models","Employment":270,"Annual Wage":120619,"Affordability Index":40.24},
      {"Occupation":"Craft Artists","Employment":230,"Annual Wage":108234,"Affordability Index":36.11}
    ],
    "custodian": [
      {"Occupation":"Janitors and Cleaners, Except Maids and Housekeeping Cleaners","Employment":24000,"Annual Wage":40200,"Affordability Index":25.2}
    ]
  },
  "High school diploma or equivalent": {
    "sales": [
      {"Occupation":"Sales Representatives, Wholesale and Manufacturing","Employment":12000,"Annual Wage":63000,"Affordability Index":30.1}
    ],
    "construction": [],
    "supply-chain": []
  },
  "Postsecondary nondegree award": {
    "construction": [],
    "industrial": [],
    "technician": []
  },
  "Associate's degree": {
    "assistant for doctor": [],
    "legal assistant": [],
    "engineer technician": []
  },
  "Bachelor's degree": {
    "research": [],
    "K12 educator/worker": [],
    "marketing": [],
    "agents": [],
    "scientists": []
  }
};

function goToPage(id) {
  ['intro','education','category','jobs','conclusion'].forEach(p => {
    let el = document.getElementById(p);
    if (el) el.style.display = 'none';
  });
  let target = document.getElementById(id);
  if (target) target.style.display = 'block';
}

function populateCategories() {
  let edu = document.getElementById('edu').value;
  let catSelect = document.getElementById('cat');
  catSelect.innerHTML = '';
  if (edu in jobData) {
    for (let cat in jobData[edu]) {
      let opt = document.createElement('option');
      opt.value = cat;
      opt.innerText = cat;
      catSelect.appendChild(opt);
    }
  }
}

function showJobs() {
  let edu = document.getElementById('edu').value;
  let cat = document.getElementById('cat').value;
  let tableBody = document.getElementById('jobTable').querySelector('tbody');
  tableBody.innerHTML = '';
  if (edu in jobData && cat in jobData[edu]) {
    jobData[edu][cat].forEach(job => {
      let row = document.createElement('tr');
      row.innerHTML = `
        <td>${job['Occupation']}</td>
        <td>${job['Employment']}</td>
        <td>${job['Annual Wage']}</td>
        <td>${job['Affordability Index']}</td>
      `;
      tableBody.appendChild(row);
    });
  }
  goToPage('jobs');
}
</script>

</body>
</html>
