<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Step-by-Step Job Finder</title>
  <style>
    section { display: none; }
    section:target { display: block; }
    body:not(:has(:target)) #step1 { display: block; }
    #categoryTable { width: 50%; border-collapse: collapse; margin-bottom: 1em; }
    #categoryTable th, #categoryTable td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    #categoryTable tr.selected { background-color: #e0e0e0; }
    #categoryTable tr:hover { background-color: #f5f5f5; cursor: pointer; }
    #jobTable { width: 100%; border-collapse: collapse; }
    #jobTable th, #jobTable td { border: 1px solid #ccc; padding: 8px; text-align: left; }
  </style>
</head>
<body>

<section id="step1">
  <h2>Welcome to the Job Finder</h2>
  <p>First click Educational attainment.</p><br>
  <p>Secondly, click the desired job category in the chosen educational attainment.</p><br>
  <p>Thirdly, it will show the job names in said category, their annual wage before taxes, and affordability index (annual wage/monthly rent).</p><br>
  <p>Fourth and finally, the Google spreadsheet which the data was gathered from, with all the jobs, wages, employment availability, and affordability index will be available for download.</p><br>
  <a href="#step2"><button>Continue to Step 1</button></a>
</section>

<section id="step2">
  <h2>Step 1: Choose Educational Attainment</h2>
  <select id="eduSelect" onchange="populateCategory()">
    <option value="">-- Select Education Level --</option>
    <option value="No formal educational credential">No formal educational credential</option>
    <option value="High school diploma or equivalent">High school diploma or equivalent</option>
    <option value="Postsecondary nondegree award">Postsecondary nondegree award</option>
    <option value="Associate's degree">Associate's degree</option>
    <option value="Bachelor's degree">Bachelor's degree</option>
  </select>
  <br><br>
  <a href="#step1"><button>Back</button></a>
  <a href="#step3"><button>Continue to Step 2</button></a>
</section>

<section id="step3">
  <h2>Step 2: Choose Job Category</h2>
  <table id="categoryTable">
    <thead><tr><th>Category</th></tr></thead>
    <tbody></tbody>
  </table>
  <button onclick="location.hash='#step2'">Back</button>
  <button id="step3Continue" disabled onclick="location.hash='#step4'">Continue to Step 3</button>
</section>

<section id="step4">
  <h2>Step 3: Jobs</h2>
  <table id="jobTable">
    <thead>
      <tr>
        <th>Occupation</th>
        <th>Employment</th>
        <th>Annual Wage</th>
        <th>Affordability Index</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <a href="#step3"><button>Back</button></a>
  <a href="#step5"><button>Continue to Step 4</button></a>
</section>

<section id="step5">
  <h2>Step 4: Conclusion</h2>
  <p>Download the full spreadsheet containing job titles, wages, employment, and affordability index:</p>
  <a href="https://docs.google.com/spreadsheets/d/19ziRp1iNENdopAgHci7nJTNzTbgiFV1xRYE2QhjCgq0/edit?usp=sharing" target="_blank">ðŸ“„ Google Sheet</a><br><br>
  <a href="#step4"><button>Back</button></a>
  <button onclick="window.close()">Exit</button>
</section>

<script>
  // Full job data pulled from the original file
  const data = {"No formal educational credential":{"artist":[{"Occupation":"Artist","Employment":"14,070","Annual Wage":"$37,530","Afford(I/O)":14.69},{"Occupation":"Custodian","Employment":"516,250","Annual Wage":"$31,740","Afford(I/O)":12.42},{"Occupation":"Plasterer/Drywaller","Employment":"25,580","Annual Wage":"$48,870","Afford(I/O)":19.12},{"Occupation":"Building Cleaner","Employment":"262,310","Annual Wage":"$29,560","Afford(I/O)":11.57},{"Occupation":"Craft Artist","Employment":"3,280","Annual Wage":"$34,620","Afford(I/O)":13.55}]},"High school diploma or equivalent":{"construction-related":[{"Occupation":"Construction Laborers","Employment":"256,330","Annual Wage":"$38,890","Afford(I/O)":15.22},{"Occupation":"Roofers","Employment":"35,470","Annual Wage":"$43,500","Afford(I/O)":17.03},{"Occupation":"Electricians","Employment":"275,340","Annual Wage":"$56,180","Afford(I/O)":21.99}],"logistics & supply chain":[{"Occupation":"Supply Chain Managers","Employment":"38,360","Annual Wage":"$111,030","Afford(I/O)":43.48},{"Occupation":"Logisticians","Employment":"67,600","Annual Wage":"$76,270","Afford(I/O)":29.86}],"sales & customer service":[{"Occupation":"Sales Representatives, Wholesale","Employment":"552,940","Annual Wage":"$66,520","Afford(I/O)":26.04},{"Occupation":"Insurance Sales Agents","Employment":"323,920","Annual Wage":"$84,410","Afford(I/O)":33.04} ]},"Postsecondary nondegree award":{"technical & trade technicians":[{"Occupation":"Firefighters","Employment":"333,290","Annual Wage":"$54,650","Afford(I/O)":21.38},{"Occupation":"Avionics Technicians","Employment":"20,390","Annual Wage":"$66,680","Afford(I/O)":26.07},{"Occupation":"Sound Engineering Technicians","Employment":"24,740","Annual Wage":"$45,510","Afford(I/O)":17.81}]},"Associate's degree":{"assistant for doctor":[{"Occupation":"Physician Assistants","Employment":"158,940","Annual Wage":"$121,530","Afford(I/O)":47.48}],"legal assistant":[{"Occupation":"Paralegals","Employment":"337,840","Annual Wage":"$52,920","Afford(I/O)":20.67}],"engineer technician":[{"Occupation":"Engineering Technicians, Except Drafters","Employment":"188,570","Annual Wage":"$62,550","Afford(I/O)":24.43}]},"Bachelor's degree":{"research & applied science":[{"Occupation":"Biological Scientists","Employment":"147,370","Annual Wage":"$85,220","Afford(I/O)":33.28}],"k12 educator & worker":[{"Occupation":"Elementary School Teachers","Employment":"1,330,860","Annual Wage":"$61,350","Afford(I/O)":23.96}],"marketing & graphic design":[{"Occupation":"Graphic Designers","Employment":"279,800","Annual Wage":"$53,380","Afford(I/O)":20.85}],"web & IT":[{"Occupation":"Web Developers","Employment":"200,400","Annual Wage":"$78,300","Afford(I/O)":30.60}],"scientists & analysts":[{"Occupation":"Data Scientists","Employment":"36,640","Annual Wage":"$122,840","Afford(I/O)":47.99}]} };

  const catMap = {"No formal educational credential":["artist"],"High school diploma or equivalent":["construction-related","logistics & supply chain","sales & customer service"],"Postsecondary nondegree award":["technical & trade technicians"],"Associate's degree":["assistant for doctor","legal assistant","engineer technician"],"Bachelor's degree":["research & applied science","k12 educator & worker","marketing & graphic design","web & IT","scientists & analysts"]};

  let selectedCat = null;

  function populateCategory() {
    const edu = document.getElementById("eduSelect").value;
    const tbody = document.querySelector("#categoryTable tbody");
    tbody.innerHTML = "";
    selectedCat = null;
    document.getElementById("step3Continue").disabled = true;

    if (edu && catMap[edu]) {
      catMap[edu].forEach(cat => {
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${cat.charAt(0).toUpperCase()+cat.slice(1)}</td>`;
        tr.onclick = () => selectCategory(cat, tr);
        tbody.appendChild(tr);
      });
    }
  }

  function selectCategory(cat, tr) {
    selectedCat = cat;
    document.querySelectorAll("#categoryTable tr").forEach(row => row.classList.remove('selected'));
    tr.classList.add('selected');
    document.getElementById("step3Continue").disabled = false;
  }

  function populateJobs() {
    const edu = document.getElementById("eduSelect").value;
    const tbody = document.querySelector("#jobTable tbody");
    tbody.innerHTML = "";
    if (edu && selectedCat && data[edu][selectedCat]) {
      data[edu][selectedCat].forEach(job => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${job.Occupation}</td>
          <td>${job.Employment}</td>
          <td>${job["Annual Wage"]}</td>
          <td>${job["Afford(I/O)"]}</td>
        `;
        tbody.appendChild(row);
      });
    }
  }

  window.addEventListener('hashchange', () => {
    if (window.location.hash === '#step4') {
      populateJobs();
    }
  });
</script>

</body>
</html>
