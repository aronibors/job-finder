<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Step-by-Step Job Finder</title>
  <style>
    section { display: none; }
    section:target { display: block; }
    body:not(:has(:target)) #step1 { display: block; }

    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    select {
      padding: 10px;
      margin: 10px 0;
      width: 100%;
      max-width: 400px;
    }

    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0 8px;
      margin-top: 20px;
    }

    th, td {
      padding: 12px 16px;
      border: 1px solid #ccc;
      text-align: left;
      vertical-align: top;
      background-color: #fff;
    }

    th {
      background-color: #f0f0f0;
      font-weight: bold;
    }

    button {
      margin: 10px 5px;
      padding: 10px 20px;
    }
  </style>
</head>
<body>

<section id="step1">
  <h2>Welcome to the Job Finder</h2>
  <p>First click Educational attainment.</p><br>
  <p>Secondly, click the desired job category in the chosen educational attainment.</p><br>
  <p>Thirdly, it will show the job names in said category, their annual wage before taxes, and affordability index (annual wage/monthly rent).</p><br>
  <p>Fourth and finally, the Google spreadsheet which the data was gathered from, with all the jobs, wages, employment availability, and affordability index will be available for download.</p><br>
  <a href="#step2"><button>Continue to Step 1</button></a>
</section>

<section id="step2">
  <h2>Step 1: Choose Educational Attainment</h2>
  <select id="eduSelect" onchange="populateCategory()">
    <option value="">-- Select Education Level --</option>
  </select><br>
  <a href="#step1"><button>Back</button></a>
  <a href="#step3"><button>Continue to Step 2</button></a>
</section>

<section id="step3">
  <h2>Step 2: Choose Job Category</h2>
  <select id="catSelect" onchange="populateJobs()">
    <option value="">-- Select Category --</option>
  </select><br>
  <a href="#step2"><button>Back</button></a>
  <a href="#step4"><button>Continue to Step 3</button></a>
</section>

<section id="step4">
  <h2>Step 3: Jobs</h2>
  <table id="jobTable">
    <thead>
      <tr>
        <th>Occupation Name</th>
        <th>Jobs Available</th>
        <th>Annual Wages</th>
        <th>Affordability Index</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <a href="#step3"><button>Back</button></a>
  <a href="#step5"><button>Continue to Step 4</button></a>
</section>

<section id="step5">
  <h2>Step 4: Conclusion</h2>
  <p>Download the full spreadsheet containing job titles, wages, employment, and affordability index:</p>
  <a href="https://docs.google.com/spreadsheets/d/19ziRp1iNENdopAgHci7nJTNzTbgiFV1xRYE2QhjCgq0/edit?usp=sharing" target="_blank">
    ðŸ“„ Google Sheet
  </a><br><br>
  <a href="#step4"><button>Back</button></a>
  <button onclick="window.close()">Exit</button>
</section>

<script>
// JOB DATA STARTS HERE
const catMap = {
  "No formal educational credential": ["artist", "custodian"],
  "High school diploma or equivalent": ["construction", "supply-chain", "sales"],
  "Postsecondary nondegree award": ["construction", "industrial", "technician"],
  "Associate's degree": ["assistant for doctor", "legal assistant", "engineer technician"],
  "Bachelor's degree": ["engineer", "educator", "marketing/business", "cinematography", "scientists"]
};

const data = {
  "No formal educational credential": {
    "artist": [
      { "Occupation": "Craft Artist", "Employment": "230", "Annual Wage": "$108,234", "Afford(I/O)": "36.11" }
    ],
    "custodian": [
      { "Occupation": "Building Cleaner", "Employment": "2,400", "Annual Wage": "$40,200", "Afford(I/O)": "25.20" }
    ]
  },
  "High school diploma or equivalent": {
    "construction": [
      { "Occupation": "Construction and Building Inspector", "Employment": "2,590", "Annual Wage": "$99,364", "Afford(I/O)": "33.15" }
    ],
    "supply-chain": [
      { "Occupation": "Transportation Inspector", "Employment": "1,500", "Annual Wage": "$64,000", "Afford(I/O)": "26.67" }
    ],
    "sales": [
      { "Occupation": "Insurance Sales Agent", "Employment": "11,000", "Annual Wage": "$63,400", "Afford(I/O)": "29.50" }
    ]
  },
  "Postsecondary nondegree award": {
    "construction": [
      { "Occupation": "Firefighter", "Employment": "8,100", "Annual Wage": "$72,000", "Afford(I/O)": "32.00" }
    ],
    "industrial": [
      { "Occupation": "Lighting Technician", "Employment": "750", "Annual Wage": "$55,000", "Afford(I/O)": "28.50" }
    ],
    "technician": [
      { "Occupation": "Sound Engineering Technician", "Employment": "1,200", "Annual Wage": "$65,200", "Afford(I/O)": "30.10" }
    ]
  },
  "Associate's degree": {
    "assistant for doctor": [
      { "Occupation": "Radiologic Technician", "Employment": "3,500", "Annual Wage": "$70,000", "Afford(I/O)": "31.80" }
    ],
    "legal assistant": [
      { "Occupation": "Paralegal", "Employment": "2,800", "Annual Wage": "$60,000", "Afford(I/O)": "27.90" }
    ],
    "engineer technician": [
      { "Occupation": "Food Science Technician", "Employment": "700", "Annual Wage": "$58,000", "Afford(I/O)": "26.50" }
    ]
  },
  "Bachelor's degree": {
    "engineer": [
      { "Occupation": "Mechanical Engineer", "Employment": "4,500", "Annual Wage": "$91,000", "Afford(I/O)": "38.10" }
    ],
    "educator": [
      { "Occupation": "High School Teacher", "Employment": "5,100", "Annual Wage": "$65,000", "Afford(I/O)": "30.20" }
    ],
    "marketing/business": [
      { "Occupation": "Marketing Analyst", "Employment": "3,200", "Annual Wage": "$74,500", "Afford(I/O)": "33.00" }
    ],
    "cinematography": [
      { "Occupation": "Film Director", "Employment": "1,100", "Annual Wage": "$88,000", "Afford(I/O)": "35.80" }
    ],
    "scientists": [
      { "Occupation": "Chemist", "Employment": "2,200", "Annual Wage": "$79,000", "Afford(I/O)": "31.00" }
    ]
  }
};
// END JOB DATA

function populateCategory() {
  const edu = document.getElementById("eduSelect").value;
  const catSelect = document.getElementById("catSelect");
  catSelect.innerHTML = '<option value="">-- Select Category --</option>';
  if (edu && catMap[edu]) {
    catMap[edu].forEach(cat => {
      catSelect.innerHTML += `<option value="${cat}">${cat}</option>`;
    });
  }
}

function populateJobs() {
  const edu = document.getElementById("eduSelect").value;
  const cat = document.getElementById("catSelect").value;
  const tbody = document.querySelector("#jobTable tbody");
  tbody.innerHTML = "";
  if (edu && cat && data[edu][cat]) {
    data[edu][cat].forEach(job => {
      tbody.innerHTML += `
        <tr>
          <td>${job['Occupation']}</td>
          <td>${job['Employment']}</td>
          <td>${job['Annual Wage']}</td>
          <td>${job['Afford(I/O)']}</td>
        </tr>`;
    });
  }
}
</script>

</body>
</html>
