<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Step-by-Step Job Finder</title>
  <style>
    section { display: none; }
    section:target { display: block; }
    body:not(:has(:target)) #step1 { display: block; }

    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    select {
      padding: 10px;
      margin: 10px 0;
      width: 100%;
      max-width: 400px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      padding: 10px;
      border: 1px solid #ccc;
    }
    th {
      background-color: #eee;
    }
    button {
      margin: 10px 5px;
      padding: 10px 20px;
    }
  </style>
</head>
<body>

<section id="step1">
  <h2>Welcome to the Job Finder</h2>
  <p>First click Educational attainment.</p><br>
  <p>Secondly, click the desired job category in the chosen educational attainment.</p><br>
  <p>Thirdly, it will show the job names in said category, their annual wage before taxes, and affordability index (annual wage/monthly rent).</p><br>
  <p>Fourth and finally, the Google spreadsheet which the data was gathered from, with all the jobs, wages, employment availability, and affordability index will be available for download.</p><br>
  <a href="#step2"><button>Continue to Step 1</button></a>
</section>

<section id="step2">
  <h2>Step 1: Choose Educational Attainment</h2>
  <select id="eduSelect" onchange="populateCategory()">
    <option value="">-- Select Education Level --</option>
    <!-- dynamically filled from JavaScript -->
  </select>
  <br>
  <a href="#step1"><button>Back</button></a>
  <a href="#step3"><button>Continue to Step 2</button></a>
</section>

<section id="step3">
  <h2>Step 2: Choose Job Category</h2>
  <select id="catSelect" onchange="populateJobs()">
    <option value="">-- Select Category --</option>
  </select>
  <br>
  <a href="#step2"><button>Back</button></a>
  <a href="#step4"><button>Continue to Step 3</button></a>
</section>

<section id="step4">
  <h2>Step 3: Jobs</h2>
  <table id="jobTable">
    <thead>
      <tr>
        <th>Occupation</th>
        <th>Employment</th>
        <th>Annual Wage</th>
        <th>Affordability Index</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <a href="#step3"><button>Back</button></a>
  <a href="#step5"><button>Continue to Step 4</button></a>
</section>

<section id="step5">
  <h2>Step 4: Conclusion</h2>
  <p>Download the full spreadsheet containing job titles, wages, employment, and affordability index:</p>
  <a href="https://docs.google.com/spreadsheets/d/19ziRp1iNENdopAgHci7nJTNzTbgiFV1xRYE2QhjCgq0/edit?usp=sharing" target="_blank">
    ðŸ“„ Google Sheet
  </a><br><br>
  <a href="#step4"><button>Back</button></a>
  <button onclick="window.close()">Exit</button>
</section>

<script>
const data = {/* INSERT structured_data here as a JS object */};
const catMap = {/* INSERT category-to-list mapping here */};

function populateCategory() {
  const edu = document.getElementById("eduSelect").value;
  const catSelect = document.getElementById("catSelect");
  catSelect.innerHTML = '<option value="">-- Select Category --</option>';
  if (edu && catMap[edu]) {
    for (let cat of catMap[edu]) {
      catSelect.innerHTML += `<option value="${cat}">${cat}</option>`;
    }
  }
}

function populateJobs() {
  const edu = document.getElementById("eduSelect").value;
  const cat = document.getElementById("catSelect").value;
  const tbody = document.querySelector("#jobTable tbody");
  tbody.innerHTML = "";
  if (edu && cat && data[edu][cat]) {
    data[edu][cat].forEach(job => {
      tbody.innerHTML += `
        <tr>
          <td>${job['Occupation']}</td>
          <td>${job['Employment']}</td>
          <td>${job['Annual Wage']}</td>
          <td>${job['Afford(I/O)']}</td>
        </tr>`;
    });
  }
}
</script>

</body>
</html>
